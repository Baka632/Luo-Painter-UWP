<Page
    x:Class="Luo_Painter.DrawPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:transformers="using:FanKit.Transformers"
    xmlns:local="using:Luo_Painter"
    xmlns:blends="using:Luo_Painter.Blends"
    xmlns:brushes="using:Luo_Painter.Brushes"
    xmlns:controls="using:Luo_Painter.Controls"
    xmlns:elements="using:Luo_Painter.Elements"
    xmlns:options="using:Luo_Painter.Options"
    xmlns:effects="using:Microsoft.Graphics.Canvas.Effects"
    xmlns:canvas="using:Microsoft.Graphics.Canvas.UI.Xaml"
    NavigationCacheMode="Required"
    IsEnabled="False"
    mc:Ignorable="d" 
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    >


    <FrameworkElement.Resources>
        <!--Transformer-->
        <brushes:InkCanvasOperator x:Name="Operator" DestinationControl="{x:Bind CanvasControl}"/>
        <transformers:CanvasTransformer x:Name="Transformer" />
        <!--Extension-->
        <local:ApplicationBrushesExtension x:Name="ApplicationBrushes"/>
        <!--Command-->
        <local:OptionTypeCommand x:Name="Command"/>
        <!--Flyout-->
        <Flyout x:Name="ColorFlyout" Placement="Top" FlyoutPresenterStyle="{StaticResource AppFlyoutPresenterStyle}">
            <ColorPicker
                x:Name="ColorPicker"                
                IsMoreButtonVisible="False"                
                IsHexInputVisible="False"                
                IsColorSpectrumVisible="True"            
                IsColorSliderVisible="True"             
                IsColorPreviewVisible="False"             
                IsColorChannelTextInputVisible="False"              
                IsAlphaTextInputVisible="False"            
                IsAlphaSliderVisible="False"             
                IsAlphaEnabled="False"              
                ColorSpectrumShape="Box"             
                ColorSpectrumComponents="SaturationValue"             
                />
        </Flyout>
        <!--Range-->
        <local:SizeRange x:Name="SizeRange"/>
        <local:ScaleRange x:Name="ScaleRange"/>
        <!--Radian-->
        <Storyboard x:Name="RadianStoryboard">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Value" Storyboard.TargetName="RadianSlider" EnableDependentAnimation="True">
                <SplineDoubleKeyFrame Value="0" KeyTime="0:0:0.2" KeySpline="0.5,1.0 1,1"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <!--Scale-->
        <Storyboard x:Name="ScaleStoryboard">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="Value" Storyboard.TargetName="ScaleSlider" EnableDependentAnimation="True">
                <SplineDoubleKeyFrame Value="23" KeyTime="0:0:0.2" KeySpline="0.5,1.0 1,1"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        <!--Flyout-->
        <Flyout x:Name="ViewFlyout">
            <StackPanel Spacing="4">

                <Button x:Name="RadianClearButton" CornerRadius="4" Height="38" BorderThickness="1" >
                    <StackPanel Spacing="12" Orientation="Horizontal">
                        <local:ElementIcon Type="ResetRadian"/>
                        <TextBlock x:Name="ScaleClearTextBlock" VerticalAlignment="Center" >         
                            Reset the radian of rotation
                        </TextBlock>
                    </StackPanel>
                </Button>

                <Button x:Name="ScaleClearButton" CornerRadius="4" Height="38" BorderThickness="1" >
                    <StackPanel Spacing="12" Orientation="Horizontal">
                        <local:ElementIcon Type="ResetScale"/>
                        <TextBlock x:Name="RadianClearTextBlock" VerticalAlignment="Center" >
                            Reset scale
                        </TextBlock>
                    </StackPanel>
                </Button>

                <transformers:RemoteControl 
                    x:Name="RemoteControl"
                    BorderThickness="1"               
                    BorderBrush="{ThemeResource AppStroke}"               
                    Background="{ThemeResource SystemAltLowColor}"             
                    Foreground="{ThemeResource SystemControlBackgroundBaseHighBrush}"              
                    />
            </StackPanel>
        </Flyout>
    </FrameworkElement.Resources>


    <Grid>

        <!--VisualState-->
        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup>

                <!--FullScreen-->
                <VisualState x:Name="FullScreen">
                    <VisualState.Setters>
                        <!--Application-->
                        <Setter Target="ApplicationView.IsAccent" Value="True"/>

                        <Setter Target="FullScreenButton.Visibility" Value="Collapsed"/>
                        <Setter Target="UnFullScreenButton.Visibility" Value="Visible"/>

                        <!--Head-->
                        <Setter Target="LayerListView.Margin" Value="0"/>
                        <Setter Target="HeadScrollViewer.Visibility" Value="Collapsed"/>
                        <Setter Target="HeadButton.Visibility" Value="Visible"/>

                        <Setter Target="LeftSplitButton.Visibility" Value="Visible"/>
                        <Setter Target="RightSplitButton.Visibility" Value="Visible"/>

                        <!--SplitView-->
                        <Setter Target="RightSplitView.IsPaneOpen" Value="False"/>
                        <Setter Target="LeftSplitView.IsPaneOpen" Value="False"/>

                        <Setter Target="RightSplitView.DisplayMode" Value="Overlay"/>
                        <Setter Target="LeftSplitView.DisplayMode" Value="Overlay"/>
                    </VisualState.Setters>
                </VisualState>

                <!--Phone
                <VisualState x:Name="Phone">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="0"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                
                
                    </VisualState.Setters>
                </VisualState>-->

                <!--Pad
                <VisualState x:Name="Pad">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="600"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                    </VisualState.Setters>
                </VisualState>-->

                <!--PC-->
                <VisualState x:Name="PC">
                    <VisualState.Setters>
                        <!--Head-->
                        <Setter Target="LayerListView.Margin" Value="0"/>
                        <Setter Target="HeadScrollViewer.Visibility" Value="Collapsed"/>
                        <Setter Target="HeadButton.Visibility" Value="Visible"/>

                        <Setter Target="LeftSplitButton.Visibility" Value="Visible"/>
                        <Setter Target="RightSplitButton.Visibility" Value="Visible"/>

                        <!--SplitView-->
                        <Setter Target="RightSplitView.IsPaneOpen" Value="False"/>
                        <Setter Target="LeftSplitView.IsPaneOpen" Value="False"/>

                        <Setter Target="RightSplitView.DisplayMode" Value="Overlay"/>
                        <Setter Target="LeftSplitView.DisplayMode" Value="Overlay"/>
                    </VisualState.Setters>
                </VisualState>

                <!--Hub-->
                <VisualState x:Name="Hub">
                    <VisualState.Setters>
                        <!--SplitView-->
                        <Setter Target="RightSplitView.IsPaneOpen" Value="True"/>
                        <Setter Target="LeftSplitView.IsPaneOpen" Value="True"/>
                    </VisualState.Setters>
                </VisualState>

            </VisualStateGroup>

            <VisualStateGroup>

                <!--Normal-->
                <VisualState x:Name="AppBarNormal">
                    <VisualState.Setters>
                    </VisualState.Setters>
                </VisualState>

                <!--Main-->
                <VisualState x:Name="AppBarMain">
                    <VisualState.Setters>
                        <Setter Target="AppBarTransform.X" Value="0"/>
                        <Setter Target="AppBarTransform.Y" Value="0"/>
                    </VisualState.Setters>
                </VisualState>

                <!--Preview-->
                <VisualState x:Name="AppBarPreview">
                    <VisualState.Setters>
                        <Setter Target="AppBarTransform.X" Value="0"/>
                        <Setter Target="AppBarTransform.Y" Value="0"/>
                        <Setter Target="AppBarStackPanel.Visibility" Value="Visible"/>
                    </VisualState.Setters>
                </VisualState>

                <!--DragPreview-->
                <VisualState x:Name="AppBarDragPreview">
                    <VisualState.Setters>
                        <Setter Target="AppBarTransform.X" Value="0"/>
                        <Setter Target="AppBarTransform.Y" Value="0"/>
                        <Setter Target="AppBarThumb.Visibility" Value="Visible"/>
                        <Setter Target="AppBarStackPanel.Visibility" Value="Visible"/>
                    </VisualState.Setters>
                </VisualState>

            </VisualStateGroup>

            <VisualStateGroup>

                <!--Phone-->
                <VisualState>
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="0"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="AppBarTransform.X" Value="0"/>
                        <Setter Target="AppBarTransform.Y" Value="0"/>

                        <!--Root-->
                        <Setter Target="AppBarBorder.CornerRadius" Value="0"/>
                        <Setter Target="AppBarBorder.Margin" Value="0"/>
                        <Setter Target="AppBarBorder.HorizontalAlignment" Value="Stretch"/>
                        <Setter Target="AppBarBorder.BorderThickness" Value="0,1,0,0"/>
                        <Setter Target="AppBarGrid.Margin" Value="0"/>
                        <Setter Target="AppBarGrid.HorizontalAlignment" Value="Stretch"/>

                        <!--Option-->
                        <Setter Target="MarqueeComboBox.Margin" Value="0"/>
                        <Setter Target="SelectionComboBox.Margin" Value="0"/>

                        <Setter Target="GradientMappingSelector.Width" Value="Auto"/>

                        <Setter Target="RippleEffectPanel.Orientation" Value="Vertical"/>
                        <Setter Target="FrequencySlider.Width" Value="Auto"/>
                        <Setter Target="PhaseSlider.Width" Value="Auto"/>
                        <Setter Target="AmplitudeSlider.Width" Value="Auto"/>

                        <Setter Target="TemperaturePanel.Orientation" Value="Vertical"/>
                        <Setter Target="TemperatureSlider.Width" Value="Auto"/>
                        <Setter Target="TintSlider.Width" Value="Auto"/>

                        <Setter Target="HighlightsAndShadowsPanel1.Orientation" Value="Vertical"/>
                        <Setter Target="HighlightsAndShadowsPanel2.Orientation" Value="Vertical"/>
                        <Setter Target="DisplacementLiquefactionPanel.Orientation" Value="Vertical"/>
                        <Setter Target="DisplacementLiquefactionPanel.HorizontalAlignment" Value="Stretch"/>
                        <Setter Target="DisplacementLiquefactionSizeSlider.Width" Value="Auto"/>
                        <Setter Target="DisplacementLiquefactionPressureSlider.Width" Value="Auto"/>
                        <Setter Target="ShadowsSlider.Width" Value="Auto"/>
                        <Setter Target="HighlightsSlider.Width" Value="Auto"/>
                        <Setter Target="ClaritySlider.Width" Value="Auto"/>
                        <Setter Target="BlurSlider.Width" Value="Auto"/>

                        <!--Tool-->
                        <Setter Target="SizeSlider.Width" Value="Auto"/>
                        <Setter Target="OpacitySlider.Width" Value="Auto"/>

                        <Setter Target="RadianSlider.Width" Value="Auto"/>
                        <Setter Target="ScaleSlider.Width" Value="Auto"/>

                        <Setter Target="StarPanel.Orientation" Value="Vertical"/>
                        <Setter Target="StarPointsSlider.Width" Value="Auto"/>
                        <Setter Target="StarInnerRadiusSlider.Width" Value="Auto"/>

                        <Setter Target="CogPanel1.Orientation" Value="Vertical"/>
                        <Setter Target="CogPanel2.Orientation" Value="Vertical"/>
                        <Setter Target="CogCountSlider.Width" Value="Auto"/>
                        <Setter Target="CogInnerRadiusSlider.Width" Value="Auto"/>
                        <Setter Target="CogToothSlider.Width" Value="Auto"/>
                        <Setter Target="CogNotchSlider.Width" Value="Auto"/>

                        <Setter Target="CookiePanel.Orientation" Value="Vertical"/>
                        <Setter Target="CookieInnerRadiusSlider.Width" Value="Auto"/>
                        <Setter Target="CookieSweepAngleSlider.Width" Value="Auto"/>
                    </VisualState.Setters>
                </VisualState>

                <!--Pad-->
                <VisualState>
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="600"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="AppBarTransform.X" Value="0"/>
                        <Setter Target="AppBarTransform.Y" Value="0"/>

                        <!--Root-->
                        <Setter Target="AppBarBorder.CornerRadius" Value="8,8,0,0"/>
                        <Setter Target="AppBarBorder.Margin" Value="0"/>
                        <Setter Target="AppBarBorder.BorderThickness" Value="1,1,1,0"/>
                        <Setter Target="AppBarGrid.Margin" Value="0"/>

                        <!--Option-->
                        <Setter Target="GradientMappingSelector.Width" Value="500"/>

                        <Setter Target="RippleEffectPanel.Orientation" Value="Vertical"/>
                        <Setter Target="FrequencySlider.Width" Value="Auto"/>
                        <Setter Target="PhaseSlider.Width" Value="Auto"/>
                        <Setter Target="AmplitudeSlider.Width" Value="Auto"/>

                        <Setter Target="TemperaturePanel.Orientation" Value="Vertical"/>
                        <Setter Target="TemperatureSlider.Width" Value="Auto"/>
                        <Setter Target="TintSlider.Width" Value="Auto"/>

                        <!--Tool-->
                        <Setter Target="StarPanel.Orientation" Value="Vertical"/>
                        <Setter Target="StarPointsSlider.Width" Value="Auto"/>
                        <Setter Target="StarInnerRadiusSlider.Width" Value="Auto"/>

                        <Setter Target="CookiePanel.Orientation" Value="Vertical"/>
                        <Setter Target="CookieInnerRadiusSlider.Width" Value="Auto"/>
                        <Setter Target="CookieSweepAngleSlider.Width" Value="Auto"/>
                    </VisualState.Setters>
                </VisualState>

                <!--PC-->
                <VisualState>
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="900"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="AppBarTransform.X" Value="0"/>
                        <Setter Target="AppBarTransform.Y" Value="0"/>
                    </VisualState.Setters>
                </VisualState>

                <!--Hub-->
                <VisualState>
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="1200"/>
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="AppBarTransform.X" Value="0"/>
                        <Setter Target="AppBarTransform.Y" Value="0"/>

                        <!--Option-->
                        <Setter Target="HighlightsAndShadowsPanel.Orientation" Value="Horizontal"/>

                        <!--Tool-->
                        <Setter Target="CogPanel.Orientation" Value="Horizontal"/>
                    </VisualState.Setters>
                </VisualState>

            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>


        <!--Extension-->
        <elements:ApplicationTitleBarExtension x:Name="ApplicationView" TitleBarColor="{ThemeResource AppBackgroundColorDark}" AccentTitleBarColor="{ThemeResource AppBackgroundColorDark}"/>


        <!--Body-->
        <SplitView 
            x:Name="RightSplitView"
            PanePlacement="Right"
            OpenPaneLength="280"
            IsPaneOpen="True"                    
            DisplayMode="Inline"
            PaneBackground="{ThemeResource SystemControlAcrylicWindowBrush}"
            >
            <SplitView.Pane>
                <Grid>

                    <!--Tool-->
                    <controls:ToolListView x:Name="ToolListView" Visibility="{x:Bind ToolItem.IsSelected, Mode=OneWay}"/>
                    <controls:PaintScrollViewer x:Name="PaintScrollViewer" Visibility="{x:Bind PaintItem.IsSelected, Mode=OneWay}"/>
                    <controls:BrushListView x:Name="BrushMenu" Visibility="{x:Bind BrushItem.IsSelected, Mode=OneWay}"/>
                    <controls:SizeListView x:Name="SizeMenu" Visibility="{x:Bind SizeItem.IsSelected, Mode=OneWay}"/>
                    <controls:HistoryListView x:Name="HistoryMenu" ItemsSource="{x:Bind History.Source}" Visibility="{x:Bind HistoryItem.IsSelected, Mode=OneWay}"/>

                    <!--Head-->
                    <ListBox x:Name="HeadComboBox" SelectedIndex="2" Height="50" VerticalAlignment="Top" BorderThickness="0,0,0,1" BorderBrush="{ThemeResource AppStroke}" Background="{ThemeResource AppBackgroundDark}">
                        <ListBoxItem x:Name="ToolItem" Width="70">
                            <SymbolIcon Symbol="ViewAll"/>
                        </ListBoxItem>
                        <ListBoxItem x:Name="PaintItem" Width="70">
                            <local:OptionIcon Type="PaintMenu"/>
                        </ListBoxItem>
                        <ListBoxItem x:Name="BrushItem" Width="70">
                            <local:OptionIcon Type="BrushMenu"/>
                        </ListBoxItem>
                        <ListBoxItem x:Name="SizeItem" Width="70">
                            <local:OptionIcon Type="SizeMenu"/>
                        </ListBoxItem>
                        <ListBoxItem x:Name="HistoryItem" Width="70">
                            <FontIcon Glyph="&#xF738;" FontSize="20" FontWeight="Bold" FontFamily="Segoe MDL2 Assets"/>
                        </ListBoxItem>
                    </ListBox>

                </Grid>
            </SplitView.Pane>
            <SplitView 
                x:Name="LeftSplitView"
                PanePlacement="Left"                     
                OpenPaneLength="280"                    
                IsPaneOpen="True"                    
                DisplayMode="Inline"                   
                PaneBackground="{ThemeResource SystemControlAcrylicWindowBrush}"                   
                >
                <SplitView.Pane>
                    <Grid>

                        <!--Layer-->
                        <!--Layer-->
                        <controls:LayerListView x:Name="LayerListView" ItemsSource="{x:Bind ObservableCollection}" >

                            <ListViewBase.Header>
                                <Grid Height="50" BorderThickness="0,0,0,1" BorderBrush="{ThemeResource AppStroke}" >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock
                                        x:Name="LayerTitleTextBlock"
                                        Margin="16,0,0,0"
                                        IsHitTestVisible="false" 
                                        FontWeight="Medium" 
                                        TextTrimming="CharacterEllipsis" 
                                        FontSize="20" 
                                        TextWrapping="Wrap" 
                                        VerticalAlignment="Center" 
                                        Style="{StaticResource SubheaderTextBlockStyle}"
                                        >
                                        Layers
                                    </TextBlock>

                                    <Button Grid.Column="1" Style="{StaticResource AppButtonStyle}" >
                                        <Button.Flyout>
                                            <Flyout x:Name="PropertyFlyout" Placement="Bottom" FlyoutPresenterStyle="{StaticResource AppFlyoutPresenterStyle}">
                                                <StackPanel Spacing="2" Padding="6,4" Width="318">

                                                    <TextBlock                        
                                                        x:Name="PropertyTextBlock"                            
                                                        Margin="8,4"                          
                                                        IsHitTestVisible="false"                           
                                                        FontWeight="Medium"                          
                                                        TextTrimming="CharacterEllipsis"                          
                                                        FontSize="20"                          
                                                        TextWrapping="Wrap"                          
                                                        VerticalAlignment="Center"                          
                                                        Style="{StaticResource SubheaderTextBlockStyle}"                       
                                                        >                        
                                                        Properties
                                                    </TextBlock>

                                                    <!--Opacity-->
                                                    <Border CornerRadius="8" BorderThickness="1" BorderBrush="{ThemeResource AppStroke}" Background="{ThemeResource SystemAltLowColor}" >
                                                        <Slider x:Name="OpacitySlider" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}" >
                                                            <FrameworkElement.Tag>
                                                                Opacity
                                                            </FrameworkElement.Tag>
                                                            <Slider.Header>
                                                                <Button
                                                                    Padding="4,0"                            
                                                                    MinWidth="44"                            
                                                                    Height="28"                              
                                                                    BorderThickness="1"                             
                                                                    BorderBrush="{ThemeResource AppStroke}"                             
                                                                    Background="{ThemeResource SystemAltLowColor}"
                                                                    >
                                                                    <Button.Flyout>
                                                                        <Flyout>

                                                                        </Flyout>
                                                                    </Button.Flyout>
                                                                    <TextBlock><Run Text="{x:Bind OpacitySlider.Value, Mode=OneWay}" /><Run>%</Run></TextBlock>
                                                                </Button>
                                                            </Slider.Header>
                                                        </Slider>
                                                    </Border>

                                                    <!--BlendMode-->
                                                    <TextBlock x:Name="BlendModeTextBlock" Margin="2,4" Foreground="{ThemeResource AppForeground}" Style="{StaticResource BaseTextBlockStyle}" >
                                                        Blend Mode
                                                    </TextBlock>
                                                    <ComboBox x:Name="BlendModeComboBox" >

                                                        <ItemsControl.ItemTemplate>
                                                            <DataTemplate x:DataType="effects:BlendEffectMode">
                                                                <local:BlendIcon Type="{x:Bind}"/>
                                                            </DataTemplate>
                                                        </ItemsControl.ItemTemplate>

                                                        <ItemsControl.ItemsSource>
                                                            <local:BlendList x:Name="BlendCollection">
                                                                <!--None-->
                                                                <effects:BlendEffectMode>-1</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>Dissolve</effects:BlendEffectMode>
                                                                <!--Darken-->
                                                                <effects:BlendEffectMode>Darken</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>Multiply</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>ColorBurn</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>LinearBurn</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>DarkerColor</effects:BlendEffectMode>
                                                                <!--Lighten-->
                                                                <effects:BlendEffectMode>Lighten</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>Screen</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>ColorDodge</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>LinearDodge</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>LighterColor</effects:BlendEffectMode>
                                                                <!--Contrast-->
                                                                <effects:BlendEffectMode>Overlay</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>SoftLight</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>HardLight</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>VividLight</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>LinearLight</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>PinLight</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>HardMix</effects:BlendEffectMode>
                                                                <!--Difference-->
                                                                <effects:BlendEffectMode>Difference</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>Exclusion</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>Subtract</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>Division</effects:BlendEffectMode>
                                                                <!--Color-->
                                                                <effects:BlendEffectMode>Hue</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>Saturation</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>Color</effects:BlendEffectMode>
                                                                <effects:BlendEffectMode>Luminosity</effects:BlendEffectMode>
                                                            </local:BlendList>
                                                        </ItemsControl.ItemsSource>

                                                    </ComboBox>

                                                    <!--Name-->
                                                    <TextBlock x:Name="NameTextBlock" Margin="2,4" Foreground="{ThemeResource AppForeground}" Style="{StaticResource BaseTextBlockStyle}" >
                                                        Name
                                                    </TextBlock>
                                                    <TextBox x:Name="NameTextBox" >
                                                        <TextBox.PlaceholderText>
                                                            Input Text...
                                                        </TextBox.PlaceholderText>
                                                    </TextBox>

                                                    <!--TagType-->
                                                    <TextBlock x:Name="TagTypeTextBlock" Margin="2,4" Foreground="{ThemeResource AppForeground}" Style="{StaticResource BaseTextBlockStyle}" >
                                                        Tag Type
                                                    </TextBlock>
                                                    <Border CornerRadius="4" BorderThickness="1" BorderBrush="{ThemeResource AppStroke}" Background="{ThemeResource SystemAltLowColor}" >
                                                        <blends:TagTypeSegmented x:Name="TagTypeSegmented"/>
                                                    </Border>

                                                </StackPanel>
                                            </Flyout>
                                        </Button.Flyout>
                                        <FontIcon Glyph="&#xE946;" FontFamily="Segoe MDL2 Assets"/>
                                    </Button>

                                    <Button Grid.Column="2" Style="{StaticResource AppButtonStyle}" >
                                        <Button.Flyout>
                                            <MenuFlyout>
                                                <!--Add-->
                                                <MenuFlyoutSeparator x:Name="AddHeaderSeparator" Style="{StaticResource AppHeaderMenuFlyoutSeparator}">
                                                    <UIElement.AccessKey>
                                                        Add
                                                    </UIElement.AccessKey>
                                                </MenuFlyoutSeparator>
                                                <MenuFlyoutItem options:OptionExtensions.Type="AddLayer" Command="{x:Bind Command}">
                                                    <UIElement.KeyboardAccelerators>
                                                        <KeyboardAccelerator Key="Insert"/>
                                                    </UIElement.KeyboardAccelerators>
                                                </MenuFlyoutItem>
                                                <MenuFlyoutItem options:OptionExtensions.Type="AddImageLayer" Command="{x:Bind Command}"/>
                                                <MenuFlyoutItem options:OptionExtensions.Type="AddCurveLayer" Command="{x:Bind Command}"/>
                                            </MenuFlyout>
                                        </Button.Flyout>
                                        <SymbolIcon Symbol="Add"/>
                                    </Button>

                                    <Button Grid.Column="3" Style="{StaticResource AppButtonStyle}" >
                                        <Button.Flyout>
                                            <MenuFlyout>
                                                <!--Layer-->
                                                <MenuFlyoutSeparator x:Name="LayerHeaderSeparator" Style="{StaticResource AppHeaderMenuFlyoutSeparator}">
                                                    <UIElement.AccessKey>
                                                        Layers
                                                    </UIElement.AccessKey>
                                                </MenuFlyoutSeparator>
                                                <MenuFlyoutItem options:OptionExtensions.Type="CutLayer" Command="{x:Bind Command}"/>
                                                <MenuFlyoutItem options:OptionExtensions.Type="CopyLayer" Command="{x:Bind Command}"/>
                                                <MenuFlyoutItem x:Name="PasteLayerItem" options:OptionExtensions.Type="PasteLayer" Command="{x:Bind Command}"/>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Remove" Command="{x:Bind Command}">
                                                    <UIElement.KeyboardAccelerators>
                                                        <KeyboardAccelerator Key="Delete"/>
                                                    </UIElement.KeyboardAccelerators>
                                                </MenuFlyoutItem>
                                                <MenuFlyoutSeparator/>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Duplicate" Command="{x:Bind Command}">
                                                    <UIElement.KeyboardAccelerators>
                                                        <KeyboardAccelerator Modifiers="Control" Key="C"/>
                                                    </UIElement.KeyboardAccelerators>
                                                </MenuFlyoutItem>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Extract" Command="{x:Bind Command}">
                                                    <UIElement.KeyboardAccelerators>
                                                        <KeyboardAccelerator Modifiers="Control" Key="E"/>
                                                    </UIElement.KeyboardAccelerators>
                                                </MenuFlyoutItem>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Merge" Command="{x:Bind Command}">
                                                    <UIElement.KeyboardAccelerators>
                                                        <KeyboardAccelerator Modifiers="Control" Key="M"/>
                                                    </UIElement.KeyboardAccelerators>
                                                </MenuFlyoutItem>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Flatten" Command="{x:Bind Command}">
                                                    <UIElement.KeyboardAccelerators>
                                                        <KeyboardAccelerator Modifiers="Control" Key="F"/>
                                                    </UIElement.KeyboardAccelerators>
                                                </MenuFlyoutItem>
                                                <MenuFlyoutSeparator/>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Group" Command="{x:Bind Command}">
                                                    <UIElement.KeyboardAccelerators>
                                                        <KeyboardAccelerator Modifiers="Control" Key="G"/>
                                                    </UIElement.KeyboardAccelerators>
                                                </MenuFlyoutItem>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Ungroup" Command="{x:Bind Command}">
                                                    <UIElement.KeyboardAccelerators>
                                                        <KeyboardAccelerator Modifiers="Control" Key="U"/>
                                                    </UIElement.KeyboardAccelerators>
                                                </MenuFlyoutItem>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Release" Command="{x:Bind Command}">
                                                    <UIElement.KeyboardAccelerators>
                                                        <KeyboardAccelerator Modifiers="Control" Key="R"/>
                                                    </UIElement.KeyboardAccelerators>
                                                </MenuFlyoutItem>
                                                <!--
                                                <MenuFlyoutItem options:OptionExtensions.Type="ExpandStroke" Command="{x:Bind Command}"/>
                                                <MenuFlyoutSeparator/>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Union" Command="{x:Bind Command}"/>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Exclude" Command="{x:Bind Command}"/>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Xor" Command="{x:Bind Command}"/>
                                                <MenuFlyoutItem options:OptionExtensions.Type="Intersect" Command="{x:Bind Command}"/>
                                                -->
                                            </MenuFlyout>
                                        </Button.Flyout>
                                        <FontIcon Glyph="&#xE81E;" FontFamily="Segoe MDL2 Assets"/>
                                    </Button>
                                </Grid>
                            </ListViewBase.Header>

                            <ListViewBase.Footer>
                                <Grid Padding="2,0,0,0" Height="55" >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="66"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="42"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock
                                        x:Name="MarqueeTextBlock"                
                                        Grid.Column="1"              
                                        IsHitTestVisible="False"              
                                        VerticalAlignment="Center"          
                                        >           
                                        Marquee
                                    </TextBlock>
                                    <Border CornerRadius="2" IsHitTestVisible="False" BorderThickness="1" BorderBrush="Black" Background="White" HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <Image x:Name="MarqueeImage"/>
                                    </Border>
                                    <SymbolIcon Grid.Column="2" Symbol="SelectAll" />
                                </Grid>
                            </ListViewBase.Footer>

                        </controls:LayerListView>
                        
                        <!--Head-->
                        <ScrollViewer x:Name="HeadScrollViewer" Height="50" VerticalAlignment="Top" BorderThickness="0,0,0,1" BorderBrush="{ThemeResource AppStroke}" Background="{ThemeResource AppBackgroundDark}" Style="{StaticResource AppHorizontalScrollViewerStyle}">
                            <StackPanel Orientation="Horizontal">
                                <Button x:Name="HomeButton" MinWidth="44" Style="{StaticResource AppTextBlockButtonStyle}">
                                    <SymbolIcon Symbol="Home"/>
                                </Button>
                                <Button x:Name="UndoButton" IsEnabled="False" MinWidth="44" Style="{StaticResource AppTextBlockButtonStyle}">
                                    <SymbolIcon Symbol="Undo"/>
                                </Button>
                                <Button x:Name="RedoButton" IsEnabled="False" MinWidth="44" Style="{StaticResource AppTextBlockButtonStyle}">
                                    <SymbolIcon Symbol="Redo"/>
                                </Button>
                                <Button x:Name="SaveButton" MinWidth="44" Style="{StaticResource AppTextBlockButtonStyle}">
                                    <SymbolIcon Symbol="Save"/>
                                </Button>
                                <Button x:Name="KeyButton" MinWidth="44" Style="{StaticResource AppTextBlockButtonStyle}">
                                    <SymbolIcon Symbol="Keyboard"/>
                                </Button>
                            </StackPanel>
                        </ScrollViewer>

                    </Grid>
                </SplitView.Pane>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="50"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Canvas x:Name="Canvas" FlowDirection="LeftToRight" Grid.Row="1" Background="{ThemeResource AppBackgroundDark}" >
                        <!--AlignmentGrid-->
                        <elements:AlignmentGridWithSpot x:Name="AlignmentGrid" IsHitTestVisible="False" />

                        <!--Canvas-->
                        <canvas:CanvasVirtualControl x:Name="CanvasVirtualControl" IsHitTestVisible="False" UseSharedDevice="True" CustomDevice="{x:Bind CanvasDevice}" />
                        <canvas:CanvasAnimatedControl x:Name="CanvasAnimatedControl" IsHitTestVisible="False" TargetElapsedTime="0:0:0.05" UseSharedDevice="True" CustomDevice="{x:Bind CanvasDevice}" />
                        <canvas:CanvasControl x:Name="CanvasControl" UseSharedDevice="True" CustomDevice="{x:Bind CanvasDevice}" />

                        <!--Simulate-->
                        <controls:SimulateCanvas x:Name="SimulateCanvas" />
                    </Canvas>

                    <!--Split-->
                    <Button x:Name="LeftSplitButton" Grid.Row="1" Visibility="Collapsed" Width="24" Height="110" CornerRadius="0,6,6,0" HorizontalAlignment="Left" BorderThickness="0,1,1,1" BorderBrush="{ThemeResource AppStroke}" Background="{ThemeResource AppBackground}" >
                        <Line X1="0" X2="0" Y1="0" Y2="36" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeThickness="3" Stroke="{ThemeResource AppForeground}"/>
                    </Button>
                    <Button x:Name="RightSplitButton" Grid.Row="1" Visibility="Collapsed" Width="24" Height="110" CornerRadius="6,0,0,6" HorizontalAlignment="Right" BorderThickness="1,1,0,1" BorderBrush="{ThemeResource AppStroke}" Background="{ThemeResource AppBackground}" >
                        <Line X1="0" X2="0" Y1="0" Y2="36" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeThickness="3" Stroke="{ThemeResource AppForeground}"/>
                    </Button>

                    <!--Head-->
                    <Border x:Name="HeadGrid" BorderThickness="0,0,0,1" BorderBrush="{ThemeResource AppStroke}" Background="{ThemeResource AppBackgroundDark}">
                        <Grid MaxWidth="900" CornerRadius="6" BorderThickness="1,1,1,0" BorderBrush="{ThemeResource AppStroke}" Background="{ThemeResource AppBackground}" >

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" >
                                <Button x:Name="HeadButton" Visibility="Collapsed" MinWidth="44" Style="{StaticResource AppTextBlockButtonStyle}">
                                    <Button.Flyout>
                                        <MenuFlyout>

                                            <MenuFlyoutItem x:Name="HomeButton2">
                                                <MenuFlyoutItem.Icon>
                                                    <SymbolIcon Symbol="Home" Foreground="{StaticResource AppBlueLinearGradientBrush}"/>
                                                </MenuFlyoutItem.Icon>
                                                <MenuFlyoutItem.Text>
                                                    Home
                                                </MenuFlyoutItem.Text>
                                            </MenuFlyoutItem>

                                            <MenuFlyoutSeparator/>

                                            <MenuFlyoutItem x:Name="UndoButton2">
                                                <MenuFlyoutItem.Icon>
                                                    <SymbolIcon Symbol="Undo" Foreground="{StaticResource AppBlueLinearGradientBrush}"/>
                                                </MenuFlyoutItem.Icon>
                                                <MenuFlyoutItem.Text>
                                                    Undo
                                                </MenuFlyoutItem.Text>
                                            </MenuFlyoutItem>

                                            <MenuFlyoutItem x:Name="RedoButton2">
                                                <MenuFlyoutItem.Icon>
                                                    <SymbolIcon Symbol="Redo" Foreground="{StaticResource AppBlueLinearGradientBrush}"/>
                                                </MenuFlyoutItem.Icon>
                                                <MenuFlyoutItem.Text>
                                                    Redo
                                                </MenuFlyoutItem.Text>
                                            </MenuFlyoutItem>

                                            <MenuFlyoutSeparator/>

                                            <MenuFlyoutItem x:Name="SaveButton2">
                                                <MenuFlyoutItem.Icon>
                                                    <SymbolIcon Symbol="Save" Foreground="{StaticResource AppBlueLinearGradientBrush}"/>
                                                </MenuFlyoutItem.Icon>
                                                <MenuFlyoutItem.Text>
                                                    Save
                                                </MenuFlyoutItem.Text>
                                            </MenuFlyoutItem>

                                            <MenuFlyoutSeparator/>

                                            <MenuFlyoutItem x:Name="KeyButton2">
                                                <MenuFlyoutItem.Icon>
                                                    <SymbolIcon Symbol="Keyboard" Foreground="{StaticResource AppBlueLinearGradientBrush}"/>
                                                </MenuFlyoutItem.Icon>
                                                <MenuFlyoutItem.Text>
                                                    Key
                                                </MenuFlyoutItem.Text>
                                            </MenuFlyoutItem>

                                        </MenuFlyout>
                                    </Button.Flyout>
                                    <SymbolIcon Symbol="ViewAll"/>
                                </Button>
                                <Button x:Name="ExportButton" Foreground="Black" Background="#FFC003" Style="{StaticResource AppTextBlockButtonStyle}" >
                                    <SymbolIcon Symbol="NewWindow"/>
                                </Button>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" >
                                <Button x:Name="UnFullScreenButton" Visibility="Collapsed" MinWidth="44" Background="{ThemeResource AppBackgroundDark}" Style="{StaticResource AppTextBlockButtonStyle}">
                                    <SymbolIcon Symbol="BackToWindow" />
                                </Button>
                                <Button x:Name="FullScreenButton" MinWidth="44" Background="{ThemeResource AppBackgroundDark}" Style="{StaticResource AppTextBlockButtonStyle}">
                                    <SymbolIcon Symbol="FullScreen" />
                                </Button>
                                <Button x:Name="PaletteButton" Style="{StaticResource AppButtonStyle}" >
                                    <FontIcon Glyph="&#xE790;" FontFamily="Segoe MDL2 Assets"/>
                                </Button>
                                <Button                               
                                    x:Name="ColorButton"                               
                                    BorderThickness="0,0,0,2"                                
                                    BorderBrush="DodgerBlue"
                                    Style="{StaticResource AppButtonStyle}"
                                    ManipulationStarted="{x:Bind ColorMenu.ManipulationStarted2}"
                                    ManipulationDelta="{x:Bind ColorMenu.ManipulationDelta2}"
                                    ManipulationCompleted="{x:Bind ColorMenu.ManipulationCompleted2}"
                                    >
                                    <UIElement.ManipulationMode>
                                        TranslateX, TranslateY
                                    </UIElement.ManipulationMode>
                                    <Grid>
                                        <FontIcon Glyph="&#xE91F;" FontSize="32" FontFamily="Segoe MDL2 Assets" />
                                        <Ellipse Width="30" Height="30" VerticalAlignment="Center" HorizontalAlignment="Center" Fill="White" />
                                        <Ellipse Width="30" Height="30" VerticalAlignment="Center" HorizontalAlignment="Center" Fill="{x:Bind ColorMenu.Foreground}" />
                                    </Grid>
                                </Button>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" >
                                <Button Style="{StaticResource AppButtonStyle}" >
                                    <Button.Flyout>
                                        <MenuFlyout>
                                            <!--Edit-->
                                            <MenuFlyoutSeparator x:Name="EditHeaderSeparator" Style="{StaticResource AppHeaderMenuFlyoutSeparator}">
                                                <UIElement.AccessKey>
                                                    Edit
                                                </UIElement.AccessKey>
                                            </MenuFlyoutSeparator>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Cut" Command="{x:Bind Command}">
                                                <UIElement.KeyboardAccelerators>
                                                    <KeyboardAccelerator Modifiers="Control" Key="X"/>
                                                </UIElement.KeyboardAccelerators>
                                            </MenuFlyoutItem>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Copy" Command="{x:Bind Command}">
                                                <UIElement.KeyboardAccelerators>
                                                    <KeyboardAccelerator Modifiers="Control" Key="C"/>
                                                </UIElement.KeyboardAccelerators>
                                            </MenuFlyoutItem>
                                            <MenuFlyoutItem x:Name="PasteItem" options:OptionExtensions.Type="Paste" Command="{x:Bind Command}">
                                                <UIElement.KeyboardAccelerators>
                                                    <KeyboardAccelerator Modifiers="Control" Key="V"/>
                                                </UIElement.KeyboardAccelerators>
                                            </MenuFlyoutItem>
                                            <MenuFlyoutItem x:Name="ClearItem" options:OptionExtensions.Type="Clear" Command="{x:Bind Command}">
                                                <UIElement.KeyboardAccelerators>
                                                    <KeyboardAccelerator Key="Back"/>
                                                </UIElement.KeyboardAccelerators>
                                            </MenuFlyoutItem>
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="All" Command="{x:Bind Command}">
                                                <UIElement.KeyboardAccelerators>
                                                    <KeyboardAccelerator Modifiers="Control" Key="A"/>
                                                </UIElement.KeyboardAccelerators>
                                            </MenuFlyoutItem>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Deselect" Command="{x:Bind Command}">
                                                <UIElement.KeyboardAccelerators>
                                                    <KeyboardAccelerator Modifiers="Control" Key="D"/>
                                                </UIElement.KeyboardAccelerators>
                                            </MenuFlyoutItem>
                                            <MenuFlyoutItem options:OptionExtensions.Type="MarqueeInvert" Command="{x:Bind Command}">
                                                <UIElement.KeyboardAccelerators>
                                                    <KeyboardAccelerator Modifiers="Control" Key="I"/>
                                                </UIElement.KeyboardAccelerators>
                                            </MenuFlyoutItem>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Pixel" Command="{x:Bind Command}">
                                                <UIElement.KeyboardAccelerators>
                                                    <KeyboardAccelerator Modifiers="Control" Key="P"/>
                                                </UIElement.KeyboardAccelerators>
                                            </MenuFlyoutItem>
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Feather" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="MarqueeTransform" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Grow" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Shrink" Command="{x:Bind Command}"/>
                                        </MenuFlyout>
                                    </Button.Flyout>
                                    <local:OptionIcon Type="EditMenu"/>
                                </Button>
                                <Button Style="{StaticResource AppButtonStyle}" >
                                    <Button.Flyout>
                                        <MenuFlyout>
                                            <!--Adjustment-->
                                            <MenuFlyoutSeparator x:Name="AdjustmentHeaderSeparator" Style="{StaticResource AppHeaderMenuFlyoutSeparator}">
                                                <UIElement.AccessKey>
                                                    Adjustments
                                                </UIElement.AccessKey>
                                            </MenuFlyoutSeparator>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Gray" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Invert" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Exposure" Command="{x:Bind Command}"/>
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Brightness" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Saturation" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="HueRotation" Command="{x:Bind Command}"/>
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Contrast" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Temperature" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="HighlightsAndShadows" Command="{x:Bind Command}"/>
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="GaussianBlur" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="DirectionalBlur" Command="{x:Bind Command}"/>
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Sharpen" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Shadow" Command="{x:Bind Command}"/>
                                            <!--
                                            <MenuFlyoutItem options:OptionExtensions.Type="EdgeDetection" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Morphology" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Emboss" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Straighten" Command="{x:Bind Command}"/>
                                            -->
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem x:Name="MoreItem">
                                                <MenuFlyoutItem.Tag>
                                                    <SymbolIcon Symbol="More"/>
                                                </MenuFlyoutItem.Tag>
                                                <MenuFlyoutItem.Text>
                                                    More
                                                </MenuFlyoutItem.Text>
                                            </MenuFlyoutItem>
                                        </MenuFlyout>
                                    </Button.Flyout>
                                    <local:OptionIcon Type="AdjustmentMenu"/>
                                </Button>
                                <Button Style="{StaticResource AppButtonStyle}" >
                                    <Button.Flyout>
                                        <MenuFlyout>
                                            <!--Other-->
                                            <MenuFlyoutSeparator x:Name="OtherHeaderSeparator" Style="{StaticResource AppHeaderMenuFlyoutSeparator}">
                                                <UIElement.AccessKey>
                                                    Others
                                                </UIElement.AccessKey>
                                            </MenuFlyoutSeparator>
                                            <MenuFlyoutItem options:OptionExtensions.Type="CropCanvas" Command="{x:Bind Command}"/>
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Stretch" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Extend" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Offset" Command="{x:Bind Command}"/>
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="FlipHorizontal" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="FlipVertical" Command="{x:Bind Command}"/>
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="LeftTurn" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="RightTurn" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="OverTurn" Command="{x:Bind Command}"/>
                                            <MenuFlyoutSeparator/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="Transform" Command="{x:Bind Command}">
                                                <UIElement.KeyboardAccelerators>
                                                    <KeyboardAccelerator Modifiers="Control" Key="T"/>
                                                </UIElement.KeyboardAccelerators>
                                            </MenuFlyoutItem>
                                            <MenuFlyoutItem options:OptionExtensions.Type="DisplacementLiquefaction" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="GradientMapping" Command="{x:Bind Command}"/>
                                            <MenuFlyoutItem options:OptionExtensions.Type="RippleEffect" Command="{x:Bind Command}"/>
                                        </MenuFlyout>
                                    </Button.Flyout>
                                    <SymbolIcon Symbol="More"/>
                                </Button>
                            </StackPanel>

                        </Grid>
                    </Border>

                </Grid>
            </SplitView>
        </SplitView>


        <!--AppBar-->
        <Grid
            x:Name="AppBarGrid"
            Grid.Column="1"       
            Margin="22"        
            MinWidth="426"         
            MinHeight="50"        
            HorizontalAlignment="Center"        
            VerticalAlignment="Bottom"         
            >
            <UIElement.RenderTransformOrigin>
                0.5,0.5
            </UIElement.RenderTransformOrigin>
            <UIElement.RenderTransform>
                <TranslateTransform x:Name="AppBarTransform" Y="0"/>
            </UIElement.RenderTransform>

            <Border 
                x:Name="AppBarBorder"
                CornerRadius="8" 
                BorderThickness="1" 
                BorderBrush="{ThemeResource AppStroke}" 
                Background="{ThemeResource AppAcrylicElementBrush}" 
                />

            <!--Thumb-->
            <Thumb x:Name="AppBarThumb" Visibility="Collapsed" Height="50" VerticalAlignment="Top" >
                <Thumb.Template>
                    <ControlTemplate TargetType="Thumb">
                        <Grid Background="Transparent">

                            <!--VisualState-->
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal" />
                                    <VisualState x:Name="PointerOver">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="BackgroundPointerOver" />
                                            <DoubleAnimation Duration="0" To="0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="Background" />
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <DoubleAnimation Duration="0" To="1" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="BackgroundPressed" />
                                            <DoubleAnimation Duration="0" To="0" Storyboard.TargetProperty="Opacity" Storyboard.TargetName="Background" />
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Disabled" />
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>

                            <Border 
                                x:Name="Background"                              
                                IsHitTestVisible="False"                           
                                Width="36" 
                                Height="6" 
                                Margin="3" 
                                VerticalAlignment="Top" 
                                CornerRadius="{TemplateBinding CornerRadius}" 
                                BorderThickness="{TemplateBinding BorderThickness}"            
                                BorderBrush="{TemplateBinding BorderBrush}"            
                                Background="{TemplateBinding Background}"           
                                />
                            <Border 
                                x:Name="BackgroundPointerOver"                            
                                Opacity="0" 
                                IsHitTestVisible="False"
                                Width="36"
                                Height="6" 
                                Margin="3" 
                                VerticalAlignment="Top" 
                                CornerRadius="{TemplateBinding CornerRadius}"          
                                BorderThickness="{TemplateBinding BorderThickness}"              
                                BorderBrush="{ThemeResource ThumbBorderBrushPointerOver}"             
                                Background="{ThemeResource ThumbBackgroundPointerOver}"              
                                />
                            <Border 
                                x:Name="BackgroundPressed"                              
                                Opacity="0" 
                                IsHitTestVisible="False"
                                Width="36" 
                                Height="6"
                                Margin="3" 
                                VerticalAlignment="Top" 
                                CornerRadius="{TemplateBinding CornerRadius}"          
                                Background="{ThemeResource ThumbBackgroundPressed}"             
                                BorderBrush="{ThemeResource ThumbBorderBrushPressed}"              
                                BorderThickness="{TemplateBinding BorderThickness}"                
                                />
                        </Grid>
                    </ControlTemplate>
                </Thumb.Template>
            </Thumb>


            <!--SwitchPresenter-->
            <local:OptionSwitchPresenter x:Name="SwitchPresenter" MinHeight="50" >


                <local:OptionCase Value="CropCanvas">
                    <Border Margin="10,0,160,0" Style="{StaticResource AppRoundedBorderStyle}" >
                        <Slider 
                            x:Name="CropCanvasSlider" 
                            Minimum="-180" 
                            Maximum="180" 
                            Value="0" 
                            TickFrequency="12" 
                            TickPlacement="Outside"                        
                            Background="{StaticResource SystemControlDisabledBaseLowBrush}" 
                            Foreground="Transparent" 
                            VerticalAlignment="Center"
                            >
                            <FrameworkElement.Resources>
                                <StaticResource x:Key="SliderThumbBackground" ResourceKey="SystemControlBackgroundBaseHighBrush"/>

                                <StaticResource x:Key="SliderTrackFillPressed" ResourceKey="SystemControlDisabledBaseLowBrush"/>
                                <StaticResource x:Key="SliderThumbBackgroundPressed" ResourceKey="SystemControlBackgroundBaseHighBrush"/>
                                <StaticResource x:Key="SliderTrackValueFillPressed" ResourceKey="SystemControlDisabledTransparentBrush"/>

                                <StaticResource x:Key="SliderTrackFillPointerOver" ResourceKey="SystemControlDisabledBaseLowBrush"/>
                                <StaticResource x:Key="SliderThumbBackgroundPointerOver" ResourceKey="SystemControlBackgroundBaseHighBrush"/>
                                <StaticResource x:Key="SliderTrackValueFillPointerOver" ResourceKey="SystemControlDisabledTransparentBrush"/>
                            </FrameworkElement.Resources>
                        </Slider>
                    </Border>
                </local:OptionCase>


                <local:OptionCase Value="Feather">
                    <StackPanel>
                        <local:OptionItem Type="Feather" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="FeatherSlider" Value="12" Minimum="1" Maximum="200" Style="{StaticResource AppSliderStyle}">
                            <FrameworkElement.Tag>
                                Feather
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button
                                    x:Name="FeatherButton"
                                    Content="{x:Bind FeatherSlider.Value, Mode=OneWay}"
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="Grow">
                    <StackPanel>
                        <local:OptionItem Type="Grow" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="GrowSlider" Value="1" Minimum="1" Maximum="90" Style="{StaticResource AppSliderStyle}">
                            <FrameworkElement.Tag>
                                Grow
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button 
                                    x:Name="GrowButton" 
                                    Content="{x:Bind GrowSlider.Value, Mode=OneWay}"
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="Shrink">
                    <StackPanel>
                        <local:OptionItem Type="Shrink" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="ShrinkSlider" Value="1" Minimum="1" Maximum="90" Style="{StaticResource AppSliderStyle}">
                            <FrameworkElement.Tag>
                                Shrink
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button 
                                    x:Name="ShrinkButton" 
                                    Content="{x:Bind ShrinkSlider.Value, Mode=OneWay}"            
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>


                <local:OptionCase Value="Transform">
                    <ComboBox x:Name="TransformComboBox" Margin="10,8,160,8" SelectedIndex="0" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                        <ComboBoxItem>Move</ComboBoxItem>
                        <ComboBoxItem>Transform</ComboBoxItem>
                        <ComboBoxItem>Free Transform</ComboBoxItem>
                    </ComboBox>
                </local:OptionCase>
                <local:OptionCase Value="DisplacementLiquefaction">
                    <StackPanel>
                        <ComboBox x:Name="DisplacementLiquefactionModeComboBox" Margin="10,8,160,8" SelectedIndex="0" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                            <ComboBoxItem>Push</ComboBoxItem>
                            <ComboBoxItem>Pinch</ComboBoxItem>
                            <ComboBoxItem>Expand</ComboBoxItem>
                            <ComboBoxItem>Twirl Left</ComboBoxItem>
                            <ComboBoxItem>Twirl Right</ComboBoxItem>
                            <ComboBoxItem>Reset</ComboBoxItem>
                        </ComboBox>
                        <StackPanel x:Name="DisplacementLiquefactionPanel" Orientation="Horizontal" HorizontalAlignment="Center" >
                            <Slider x:Name="DisplacementLiquefactionSizeSlider" Width="260" Value="22" Minimum="1" Maximum="500" Style="{StaticResource AppSliderStyle}">
                                <FrameworkElement.Tag>
                                    Size
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button
                                        x:Name="DisplacementLiquefactionSizeButton" 
                                        Content="{x:Bind DisplacementLiquefactionSizeSlider.Value, Mode=OneWay}"           
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"                             
                                        BorderThickness="1" 
                                        BorderBrush="{ThemeResource AppStroke}"
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                            <Slider x:Name="DisplacementLiquefactionPressureSlider" Width="260" Value="12" Minimum="10" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                <FrameworkElement.Tag>
                                    Pressure
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button
                                        x:Name="DisplacementLiquefactionPressureButton"                            
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"                               
                                        BorderThickness="1" 
                                        BorderBrush="{ThemeResource AppStroke}" 
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                        <TextBlock><Run Text="{x:Bind DisplacementLiquefactionPressureSlider.Value, Mode=OneWay}"/><Run>%</Run></TextBlock>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                        </StackPanel>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GradientMapping">
                    <StackPanel>
                        <local:OptionItem Type="GradientMapping" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <elements:GradientStopSelectorWithUI x:Name="GradientMappingSelector" Margin="26,4" Width="740" Height="50" HorizontalAlignment="Stretch">
                            <elements:GradientStopSelector.ItemStyle>
                                <Style TargetType="Button" BasedOn="{StaticResource TextBlockButtonStyle}">
                                    <Setter Property="Width" Value="50"/>
                                    <Setter Property="Height" Value="50"/>
                                    <Setter Property="Padding" Value="3"/>
                                </Style>
                            </elements:GradientStopSelector.ItemStyle>
                            <elements:GradientStopSelector.ItemTemplate>
                                <DataTemplate x:DataType="GradientStop">
                                    <Border Width="44" Height="44" CornerRadius="4" BorderThickness="1" BorderBrush="Black" Background="Black">
                                        <ToolTipService.ToolTip>
                                            <ToolTip Style="{StaticResource AppToolTipStyle}">
                                                <TextBlock Text="{x:Bind Offset, Mode=OneWay}"/>
                                            </ToolTip>
                                        </ToolTipService.ToolTip>
                                        <Rectangle RadiusX="4.2" RadiusY="4.2" StrokeThickness="1" Stroke="White">
                                            <Rectangle.Fill>
                                                <SolidColorBrush Color="{x:Bind Color, Mode=OneWay}"/>
                                            </Rectangle.Fill>
                                        </Rectangle>
                                    </Border>
                                </DataTemplate>
                            </elements:GradientStopSelector.ItemTemplate>
                        </elements:GradientStopSelectorWithUI>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="RippleEffect">
                    <StackPanel>
                        <local:OptionItem Type="RippleEffect" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <StackPanel x:Name="RippleEffectPanel" Orientation="Horizontal">
                            <Slider x:Name="FrequencySlider" Width="260" Value="140" Minimum="0" Maximum="300" Style="{StaticResource AppSliderStyle}">
                                <FrameworkElement.Tag>
                                    Frequency
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button
                                        x:Name="FrequencyButton" 
                                        Content="{x:Bind FrequencySlider.Value, Mode=OneWay}"            
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"
                                        BorderThickness="1"
                                        BorderBrush="{ThemeResource AppStroke}" 
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                            <Slider x:Name="PhaseSlider" Width="260" Minimum="-100" Maximum="0" Style="{StaticResource AppSliderStyle}">
                                <FrameworkElement.Tag>
                                    Phase
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button 
                                        x:Name="PhaseButton"
                                        Content="{x:Bind PhaseSlider.Value, Mode=OneWay}"                                                    
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"                            
                                        BorderThickness="1" 
                                        BorderBrush="{ThemeResource AppStroke}" 
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                            <Slider x:Name="AmplitudeSlider" Width="260" Value="60" Minimum="0" Maximum="200" Style="{StaticResource AppSliderStyle}">
                                <FrameworkElement.Tag>
                                    Amplitude
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button
                                        x:Name="AmplitudeButton"
                                        Content="{x:Bind AmplitudeSlider.Value, Mode=OneWay}"                           
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"                              
                                        BorderThickness="1"
                                        BorderBrush="{ThemeResource AppStroke}" 
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                        </StackPanel>
                    </StackPanel>
                </local:OptionCase>


                <local:OptionCase Value="Exposure">
                    <StackPanel>
                        <local:OptionItem Type="Exposure" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="ExposureSlider" Minimum="-200" Maximum="200" Style="{StaticResource AppSliderStyle}">
                            <Slider.Background>
                                <LinearGradientBrush StartPoint=" 0,0.5" EndPoint="1,0.5">
                                    <GradientStop Color="Black" Offset="0"/>
                                    <GradientStop Color="White" Offset="1"/>
                                </LinearGradientBrush>
                            </Slider.Background>
                            <FrameworkElement.Tag>
                                Exposure
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button 
                                    x:Name="ExposureButton" 
                                    Content="{x:Bind ExposureSlider.Value, Mode=OneWay}"
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}"
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="Brightness">
                    <StackPanel>
                        <local:OptionItem Type="Brightness" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="BrightnessSlider" Value="100" Minimum="1" Maximum="200" Style="{StaticResource AppSliderStyle}">
                            <Slider.Background>
                                <LinearGradientBrush StartPoint=" 0,0.5" EndPoint="1,0.5">
                                    <GradientStop Color="Black" Offset="0"/>
                                    <GradientStop Color="White" Offset="1"/>
                                </LinearGradientBrush>
                            </Slider.Background>
                            <FrameworkElement.Tag>
                                Brightness
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button 
                                    x:Name="BrightnessButton" 
                                    Content="{x:Bind BrightnessSlider.Value, Mode=OneWay}"            
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1"
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="Saturation">
                    <StackPanel>
                        <local:OptionItem Type="Saturation" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="SaturationSlider" Value="100" Minimum="0" Maximum="200" Style="{StaticResource AppSliderStyle}">
                            <Slider.Background>
                                <LinearGradientBrush StartPoint=" 0,0.5" EndPoint="1,0.5">
                                    <GradientStop Color="Gray" Offset="0"/>
                                    <GradientStop Color="#00A5FF" Offset="1"/>
                                </LinearGradientBrush>
                            </Slider.Background>
                            <FrameworkElement.Tag>
                                Saturation
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button
                                    x:Name="SaturationButton" 
                                    Content="{x:Bind SaturationSlider.Value, Mode=OneWay}"            
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}"
                                    Background="{ThemeResource SystemAltLowColor}"
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="HueRotation">
                    <StackPanel>
                        <local:OptionItem Type="HueRotation" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="HueRotationSlider" Minimum="0" Maximum="360" Style="{StaticResource AppSliderStyle}">
                            <Slider.Background>
                                <LinearGradientBrush StartPoint=" 0,0.5" EndPoint="1,0.5">
                                    <GradientStop Color="#FFCE3B" Offset="0"/>
                                    <GradientStop Color="#72C075" Offset="0.125"/>
                                    <GradientStop Color="#46A7F6" Offset="0.25"/>
                                    <GradientStop Color="#784BB0" Offset="0.375"/>
                                    <GradientStop Color="#A336B5" Offset="0.5"/>
                                    <GradientStop Color="#EB2E6E" Offset="0.625"/>
                                    <GradientStop Color="#EC5449" Offset="0.75"/>
                                    <GradientStop Color="#FFA827" Offset="0.875"/>
                                    <GradientStop Color="#FFCE3B" Offset="1"/>
                                </LinearGradientBrush>
                            </Slider.Background>
                            <FrameworkElement.Tag>
                                HueRotation
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button 
                                    x:Name="HueRotationButton" 
                                    Content="{x:Bind HueRotationSlider.Value, Mode=OneWay}"            
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="Contrast">
                    <StackPanel>
                        <local:OptionItem Type="Contrast" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="ContrastSlider" Minimum="-100" Maximum="100" Style="{StaticResource AppSliderStyle}">
                            <Slider.Background>
                                <LinearGradientBrush StartPoint=" 0,0.5" EndPoint="1,0.5">
                                    <GradientStop Color="#888888" Offset="0"/>

                                    <GradientStop Color="#6D6D6D" Offset="0.4"/>
                                    <GradientStop Color="#909090" Offset="0.5"/>

                                    <GradientStop Color="#353535" Offset="0.6"/>
                                    <GradientStop Color="#C9C9C9" Offset="0.7"/>

                                    <GradientStop Color="#000000" Offset="0.8"/>
                                    <GradientStop Color="#FFFFFF" Offset="1"/>

                                </LinearGradientBrush>
                            </Slider.Background>
                            <FrameworkElement.Tag>
                                Contrast
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button
                                    x:Name="ContrastButton" 
                                    Content="{x:Bind ContrastSlider.Value, Mode=OneWay}"            
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="Temperature">
                    <StackPanel>
                        <local:OptionItem Type="Temperature" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <StackPanel x:Name="TemperaturePanel" Orientation="Horizontal">
                            <Slider x:Name="TemperatureSlider" Width="260" Minimum="-100" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                <Slider.Background>
                                    <LinearGradientBrush StartPoint=" 0,0.5" EndPoint="1,0.5">
                                        <GradientStop Color="#3EADF5" Offset="0"/>
                                        <GradientStop Color="#FFFFFF" Offset="0.5"/>
                                        <GradientStop Color="#F99652" Offset="1"/>
                                    </LinearGradientBrush>
                                </Slider.Background>
                                <FrameworkElement.Tag>
                                    Temperature
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button
                                        x:Name="TemperatureButton" 
                                        Content="{x:Bind TemperatureSlider.Value, Mode=OneWay}"            
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"
                                        BorderThickness="1" 
                                        BorderBrush="{ThemeResource AppStroke}"
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                            <Slider x:Name="TintSlider" Width="260" Minimum="-100" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                <Slider.Background>
                                    <LinearGradientBrush StartPoint=" 0,0.5" EndPoint="1,0.5">
                                        <GradientStop Color="#9680C9" Offset="0"/>
                                        <GradientStop Color="#FFFFFF" Offset="0.5"/>
                                        <GradientStop Color="#80763E" Offset="1"/>
                                    </LinearGradientBrush>
                                </Slider.Background>
                                <FrameworkElement.Tag>
                                    Tint
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button 
                                        x:Name="TintButton" 
                                        Content="{x:Bind TintSlider.Value, Mode=OneWay}"            
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"
                                        BorderThickness="1"
                                        BorderBrush="{ThemeResource AppStroke}" 
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                        </StackPanel>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="HighlightsAndShadows">
                    <StackPanel>
                        <local:OptionItem Type="HighlightsAndShadows" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <StackPanel x:Name="HighlightsAndShadowsPanel" Orientation="Vertical" >
                            <StackPanel x:Name="HighlightsAndShadowsPanel1" Orientation="Horizontal" >
                                <Slider x:Name="ShadowsSlider" Width="260" Minimum="-100" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                    <Slider.Background>
                                        <LinearGradientBrush StartPoint=" 0,0.5" EndPoint="1,0.5">
                                            <GradientStop Color="Black" Offset="0"/>
                                            <GradientStop Color="Gray" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Slider.Background>
                                    <FrameworkElement.Tag>
                                        Shadows
                                    </FrameworkElement.Tag>
                                    <Slider.Header>
                                        <Button
                                            x:Name="ShadowsButton"
                                            Content="{x:Bind ShadowsSlider.Value, Mode=OneWay}"            
                                            Padding="4,0"
                                            MinWidth="70"
                                            Height="28"
                                            BorderThickness="1" 
                                            BorderBrush="{ThemeResource AppStroke}" 
                                            Background="{ThemeResource SystemAltLowColor}" 
                                            >
                                            <Button.Flyout>
                                                <Flyout>

                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </Slider.Header>
                                </Slider>
                                <Slider x:Name="HighlightsSlider" Width="260" Minimum="-100" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                    <Slider.Background>
                                        <LinearGradientBrush StartPoint=" 0,0.5" EndPoint="1,0.5">
                                            <GradientStop Color="Gray" Offset="0"/>
                                            <GradientStop Color="White" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Slider.Background>
                                    <FrameworkElement.Tag>
                                        Highlights
                                    </FrameworkElement.Tag>
                                    <Slider.Header>
                                        <Button
                                            x:Name="HighlightsButton"
                                            Content="{x:Bind HighlightsSlider.Value, Mode=OneWay}"            
                                            Padding="4,0" 
                                            MinWidth="70"
                                            Height="28"
                                            BorderThickness="1" 
                                            BorderBrush="{ThemeResource AppStroke}" 
                                            Background="{ThemeResource SystemAltLowColor}" 
                                            >
                                            <Button.Flyout>
                                                <Flyout>

                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </Slider.Header>
                                </Slider>
                            </StackPanel>
                            <StackPanel x:Name="HighlightsAndShadowsPanel2" Orientation="Horizontal" >
                                <Slider x:Name="ClaritySlider" Width="260" Minimum="-100" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                    <FrameworkElement.Tag>
                                        Clarity
                                    </FrameworkElement.Tag>
                                    <Slider.Header>
                                        <Button 
                                            x:Name="ClarityButton" 
                                            Content="{x:Bind ClaritySlider.Value, Mode=OneWay}"            
                                            Padding="4,0" 
                                            MinWidth="70" 
                                            Height="28"
                                            BorderThickness="1" 
                                            BorderBrush="{ThemeResource AppStroke}"
                                            Background="{ThemeResource SystemAltLowColor}"
                                            >
                                            <Button.Flyout>
                                                <Flyout>

                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </Slider.Header>
                                </Slider>
                                <Slider x:Name="BlurSlider" Width="260" Value="125" Minimum="0" Maximum="1000" Style="{StaticResource AppSliderStyle}">
                                    <FrameworkElement.Tag>
                                        Blur
                                    </FrameworkElement.Tag>
                                    <Slider.Header>
                                        <Button 
                                            x:Name="BlurButton" 
                                            Content="{x:Bind BlurSlider.Value, Mode=OneWay}"            
                                            Padding="4,0" 
                                            MinWidth="70" 
                                            Height="28"
                                            BorderThickness="1" 
                                            BorderBrush="{ThemeResource AppStroke}"
                                            Background="{ThemeResource SystemAltLowColor}" 
                                            >
                                            <Button.Flyout>
                                                <Flyout>

                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </Slider.Header>
                                </Slider>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </local:OptionCase>


                <local:OptionCase Value="LuminanceToAlpha">
                    <ComboBox x:Name="LuminanceToAlphaComboBox" Margin="10,8,160,8" SelectedIndex="0" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                        <ComboBoxItem>Normal</ComboBoxItem>
                        <ComboBoxItem>White Paper</ComboBoxItem>
                        <ComboBoxItem>Black Paper</ComboBoxItem>
                    </ComboBox>
                </local:OptionCase>


                <local:OptionCase Value="Marquee">
                    <ListBox x:Name="MarqueeComboBox" SelectedIndex="0" Margin="12,0" Style="{StaticResource AppSegmentListBoxStyle}">
                        <local:ElementItem Type="New"/>
                        <local:ElementItem Type="Union"/>
                        <local:ElementItem Type="Exclude"/>
                        <local:ElementItem Type="Simultaneously"/>
                    </ListBox>
                </local:OptionCase>
                <local:OptionCase Value="Selection">
                    <ListBox x:Name="SelectionComboBox" SelectedIndex="0" Margin="12,0" Style="{StaticResource AppSegmentListBoxStyle}">
                        <local:ElementItem Type="Add"/>
                        <local:ElementItem Type="Subtract"/>
                    </ListBox>
                </local:OptionCase>
                <local:OptionCase Value="Paint">
                    <Grid Padding="12,0" ColumnSpacing="12" VerticalAlignment="Center" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>

                        <!--Size-->
                        <Slider
                            x:Name="InkSizeSlider"
                            Width="300"                
                            SmallChange="1000"                              
                            StepFrequency="1000"                                     
                            FontSize="{x:Bind FontSizeConverter(InkSizeSlider.Value), Mode=OneWay}"             
                            Tag="{x:Bind SizeToStringConverter(InkSizeSlider.Value), Mode=OneWay}"        
                            Style="{StaticResource AppInkSliderStyle}"
                            >
                            <Control.BorderBrush>
                                <SolidColorBrush Color="White" Opacity="{x:Bind OpacityConverter(InkOpacitySlider.Value), Mode=OneWay}"/>
                            </Control.BorderBrush>
                            <Slider.Header>
                                Size
                            </Slider.Header>
                        </Slider>

                        <!--Opacity-->
                        <Slider                 
                            x:Name="InkOpacitySlider"      
                            Grid.Column="2"
                            Width="300"                 
                            FontSize="{x:Bind FontSizeConverter(InkSizeSlider.Value), Mode=OneWay}"                   
                            Tag="{x:Bind OpacityToStringConverter(InkOpacitySlider.Value), Mode=OneWay}"        
                            Style="{StaticResource AppInkSliderStyle}" 
                            >
                            <Control.BorderBrush>
                                <SolidColorBrush Color="White" Opacity="{x:Bind OpacityConverter(InkOpacitySlider.Value), Mode=OneWay}"/>
                            </Control.BorderBrush>
                            <Slider.Header>
                                Opacity
                            </Slider.Header>
                        </Slider>

                    </Grid>
                </local:OptionCase>
                <local:OptionCase Value="View">
                    <Grid Padding="12,0" ColumnSpacing="12" VerticalAlignment="Center" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="1*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>

                        <!--Radian-->
                        <Slider
                            x:Name="RadianSlider"
                            Width="300"                
                            Value="0" 
                            Minimum="-180" 
                            Maximum="180" 
                            Style="{StaticResource AppDefaultSliderStyle}"     
                            >
                            <Slider.Header>
                                Radian
                            </Slider.Header>
                        </Slider>

                        <!--Scale-->
                        <Slider                 
                            x:Name="ScaleSlider"      
                            Grid.Column="1"
                            Width="300"                 
                            Style="{StaticResource AppDefaultSliderStyle}"    
                            >
                            <Slider.Header>
                                Scale
                            </Slider.Header>
                        </Slider>
                    </Grid>
                </local:OptionCase>
                <local:OptionCase Value="Brush">
                    <Grid Padding="12,0" ColumnSpacing="12" VerticalAlignment="Center" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <ComboBox x:Name="BrushComboBox" SelectedIndex="0" HorizontalAlignment="Stretch">
                            <ComboBoxItem>Color</ComboBoxItem>
                            <ComboBoxItem>LinearGradient</ComboBoxItem>
                            <ComboBoxItem>RadialGradient</ComboBoxItem>
                            <ComboBoxItem>EllipticalGradient</ComboBoxItem>
                        </ComboBox>
                        <ToggleButton x:Name="BrushOpaqueButton" Grid.Column="1" >
                            Opaque
                        </ToggleButton>
                        <ToggleButton x:Name="BrushReverseButton" Grid.Column="2" >
                            Reverse
                        </ToggleButton>
                    </Grid>
                </local:OptionCase>
                <local:OptionCase Value="Transparency">
                    <Grid Padding="12,0" ColumnSpacing="12" VerticalAlignment="Center" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <ComboBox x:Name="TransparencyComboBox" SelectedIndex="0" HorizontalAlignment="Stretch">
                            <ComboBoxItem>LinearGradient</ComboBoxItem>
                            <ComboBoxItem>RadialGradient</ComboBoxItem>
                            <ComboBoxItem>EllipticalGradient</ComboBoxItem>
                        </ComboBox>
                        <ToggleButton x:Name="TransparencyReverseButton" Grid.Column="1" >
                            Reverse
                        </ToggleButton>
                    </Grid>
                </local:OptionCase>
                <local:OptionCase Value="Pen">
                    <Grid Padding="12,0" ColumnSpacing="12" VerticalAlignment="Center" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <ComboBox x:Name="PenComboBox" SelectedIndex="0" HorizontalAlignment="Stretch">
                            <ComboBoxItem>Curve</ComboBoxItem>
                            <ComboBoxItem>Line</ComboBoxItem>
                        </ComboBox>
                        <Button x:Name="PenCloseButton" Grid.Column="1" CornerRadius="4" BorderThickness="1" >
                            Close
                        </Button>
                    </Grid>
                </local:OptionCase>


                <local:OptionCase Value="GeometryRectangleTransform">
                    <local:OptionItem Type="GeometryRectangle" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                </local:OptionCase>
                <local:OptionCase Value="GeometryEllipseTransform">
                    <local:OptionItem Type="GeometryEllipse" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                </local:OptionCase>
                <local:OptionCase Value="GeometryRoundRectTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryRoundRect" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="RoundRectCornerSlider" Value="12" Minimum="0" Maximum="50" Style="{StaticResource AppSliderStyle}">
                            <FrameworkElement.Tag>
                                Corner
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button
                                    x:Name="RoundRectCornerButton" 
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                    <TextBlock><Run Text="{x:Bind RoundRectCornerSlider.Value, Mode=OneWay}"/><Run>%</Run></TextBlock>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GeometryTriangleTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryTriangle" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="TriangleCenterSlider" Value="50" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}">
                            <FrameworkElement.Tag>
                                Center Point
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button 
                                    x:Name="TriangleCenterButton" 
                                    Padding="4,0"
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                    <TextBlock><Run Text="{x:Bind TriangleCenterSlider.Value, Mode=OneWay}"/><Run>%</Run></TextBlock>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GeometryDiamondTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryDiamond" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="DiamondMidSlider" Value="50" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}">
                            <FrameworkElement.Tag>
                                Mid Point
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button
                                    x:Name="DiamondMidButton" 
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                    <TextBlock><Run Text="{x:Bind DiamondMidSlider.Value, Mode=OneWay}"/><Run>%</Run></TextBlock>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GeometryPentagonTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryPentagon" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="PentagonPointsSlider" Value="5" Minimum="4" Maximum="36" Style="{StaticResource AppSliderStyle}">
                            <FrameworkElement.Tag>
                                Points
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button 
                                    x:Name="PentagonPointsButton" 
                                    Content="{x:Bind PentagonPointsSlider.Value, Mode=OneWay}"            
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}"
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GeometryStarTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryStar" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <StackPanel x:Name="StarPanel" Orientation="Horizontal" >
                            <Slider x:Name="StarPointsSlider" Width="260" Value="5" Minimum="4" Maximum="36" Style="{StaticResource AppSliderStyle}">
                                <FrameworkElement.Tag>
                                    Points
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button 
                                        x:Name="StarPointsButton"
                                        Content="{x:Bind StarPointsSlider.Value, Mode=OneWay}"            
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"
                                        BorderThickness="1" 
                                        BorderBrush="{ThemeResource AppStroke}" 
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                            <Slider x:Name="StarInnerRadiusSlider" Width="260" Value="40" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                <FrameworkElement.Tag>
                                    Inner Radius
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button
                                        x:Name="StarInnerRadiusButton" 
                                        Content="{x:Bind StarInnerRadiusSlider.Value, Mode=OneWay}"                             
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"                                    
                                        BorderThickness="1"
                                        BorderBrush="{ThemeResource AppStroke}" 
                                        Background="{ThemeResource SystemAltLowColor}"
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                        </StackPanel>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GeometryDountTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryDount" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="DountHoleRadiusSlider" Value="50" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}">
                            <FrameworkElement.Tag>
                                Hole Radius
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button 
                                    x:Name="DountHoleRadiusButton" 
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1"
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                    <TextBlock><Run Text="{x:Bind DountHoleRadiusSlider.Value, Mode=OneWay}"/><Run>%</Run></TextBlock>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GeometryCogTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryCog" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <StackPanel x:Name="CogPanel" >
                            <StackPanel x:Name="CogPanel1" Orientation="Horizontal" >
                                <Slider x:Name="CogCountSlider" Width="260" Value="8" Minimum="4" Maximum="36" Style="{StaticResource AppSliderStyle}">
                                    <FrameworkElement.Tag>
                                        Count
                                    </FrameworkElement.Tag>
                                    <Slider.Header>
                                        <Button 
                                            x:Name="CogCountButton" 
                                            Content="{x:Bind CogCountSlider.Value, Mode=OneWay}"            
                                            Padding="4,0" 
                                            MinWidth="70" 
                                            Height="28"
                                            BorderThickness="1"
                                            BorderBrush="{ThemeResource AppStroke}"
                                            Background="{ThemeResource SystemAltLowColor}" 
                                            >
                                            <Button.Flyout>
                                                <Flyout>

                                                </Flyout>
                                            </Button.Flyout>
                                        </Button>
                                    </Slider.Header>
                                </Slider>
                                <Slider x:Name="CogInnerRadiusSlider" Width="260" Value="70" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                    <FrameworkElement.Tag>
                                        Inner Radius
                                    </FrameworkElement.Tag>
                                    <Slider.Header>
                                        <Button 
                                            x:Name="CogInnerRadiusButton" 
                                            Padding="4,0" 
                                            MinWidth="70"
                                            Height="28"
                                            BorderThickness="1"
                                            BorderBrush="{ThemeResource AppStroke}" 
                                            Background="{ThemeResource SystemAltLowColor}" 
                                            >
                                            <Button.Flyout>
                                                <Flyout>

                                                </Flyout>
                                            </Button.Flyout>
                                            <TextBlock><Run Text="{x:Bind CogInnerRadiusSlider.Value, Mode=OneWay}"/><Run>%</Run></TextBlock>
                                        </Button>
                                    </Slider.Header>
                                </Slider>
                            </StackPanel>
                            <StackPanel x:Name="CogPanel2" Orientation="Horizontal" >
                                <Slider x:Name="CogToothSlider" Width="260" Value="30" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                    <FrameworkElement.Tag>
                                        Tooth
                                    </FrameworkElement.Tag>
                                    <Slider.Header>
                                        <Button 
                                            x:Name="CogToothButton" 
                                            Padding="4,0" 
                                            MinWidth="70" 
                                            Height="28"
                                            BorderThickness="1"
                                            BorderBrush="{ThemeResource AppStroke}" 
                                            Background="{ThemeResource SystemAltLowColor}" 
                                            >
                                            <Button.Flyout>
                                                <Flyout>

                                                </Flyout>
                                            </Button.Flyout>
                                            <TextBlock><Run Text="{x:Bind CogToothSlider.Value, Mode=OneWay}"/><Run>%</Run></TextBlock>
                                        </Button>
                                    </Slider.Header>
                                </Slider>
                                <Slider x:Name="CogNotchSlider" Width="260" Value="60" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                    <FrameworkElement.Tag>
                                        Notch
                                    </FrameworkElement.Tag>
                                    <Slider.Header>
                                        <Button 
                                            x:Name="CogNotchButton" 
                                            Padding="4,0" 
                                            MinWidth="70" 
                                            Height="28"
                                            BorderThickness="1" 
                                            BorderBrush="{ThemeResource AppStroke}"
                                            Background="{ThemeResource SystemAltLowColor}" 
                                            >
                                            <Button.Flyout>
                                                <Flyout>

                                                </Flyout>
                                            </Button.Flyout>
                                            <TextBlock><Run Text="{x:Bind CogNotchSlider.Value, Mode=OneWay}"/><Run>%</Run></TextBlock>
                                        </Button>
                                    </Slider.Header>
                                </Slider>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GeometryPieTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryPie" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="PieSweepAngleSlider" Value="90" Minimum="0" Maximum="360" Style="{StaticResource AppSliderStyle}">
                            <FrameworkElement.Tag>
                                Sweep Angle
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button
                                    x:Name="PieSweepAngleButton" 
                                    Padding="4,0" 
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}"
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                    <TextBlock><Run Text="{x:Bind PieSweepAngleSlider.Value, Mode=OneWay}"/><Run>º</Run></TextBlock>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GeometryCookieTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryCookie" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <StackPanel x:Name="CookiePanel" Orientation="Horizontal" >
                            <Slider x:Name="CookieInnerRadiusSlider" Width="260" Value="50" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                <FrameworkElement.Tag>
                                    Inner Radius
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button
                                        x:Name="CookieInnerRadiusButton"                               
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"
                                        BorderThickness="1" 
                                        BorderBrush="{ThemeResource AppStroke}" 
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                        <TextBlock><Run Text="{x:Bind CookieInnerRadiusSlider.Value, Mode=OneWay}"/><Run>%</Run></TextBlock>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                            <Slider x:Name="CookieSweepAngleSlider" Width="260" Value="90" Minimum="0" Maximum="360" Style="{StaticResource AppSliderStyle}">
                                <FrameworkElement.Tag>
                                    Sweep Angle
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button 
                                        x:Name="CookieSweepAngleButton" 
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"
                                        BorderThickness="1" 
                                        BorderBrush="{ThemeResource AppStroke}" 
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                        <TextBlock><Run Text="{x:Bind CookieSweepAngleSlider.Value, Mode=OneWay}"/><Run>º</Run></TextBlock>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                        </StackPanel>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GeometryArrowTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryArrow" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <StackPanel>
                            <Slider x:Name="ArrowWidthSlider" Value="50" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}">
                                <FrameworkElement.Tag>
                                    Width
                                </FrameworkElement.Tag>
                                <Slider.Header>
                                    <Button 
                                        x:Name="ArrowWidthButton" 
                                        Padding="4,0" 
                                        MinWidth="70" 
                                        Height="28"
                                        BorderThickness="1" 
                                        BorderBrush="{ThemeResource AppStroke}" 
                                        Background="{ThemeResource SystemAltLowColor}" 
                                        >
                                        <Button.Flyout>
                                            <Flyout>

                                            </Flyout>
                                        </Button.Flyout>
                                        <TextBlock><Run Text="{x:Bind ArrowWidthSlider.Value, Mode=OneWay}"/><Run>%</Run></TextBlock>
                                    </Button>
                                </Slider.Header>
                            </Slider>
                            <StackPanel Orientation="Horizontal" Spacing="4" Height="50" Padding="8,0" >
                                <TextBlock x:Name="ArrowLeftTailTextBlock" Margin="2,4" VerticalAlignment="Center" Foreground="{ThemeResource AppForeground}" Style="{StaticResource BaseTextBlockStyle}" >
                                    Left Tail
                                </TextBlock>
                                <ComboBox x:Name="ArrowLeftTailComboBox" SelectedIndex="0" >
                                    <ComboBoxItem>None</ComboBoxItem>
                                    <ComboBoxItem>Arrow</ComboBoxItem>
                                </ComboBox>
                                <TextBlock x:Name="ArrowRightTailTextBlock" Margin="2,4" VerticalAlignment="Center" Foreground="{ThemeResource AppForeground}" Style="{StaticResource BaseTextBlockStyle}" >
                                    Right Tail
                                </TextBlock>
                                <ComboBox x:Name="ArrowRightTailComboBox" SelectedIndex="1" >
                                    <ComboBoxItem>None</ComboBoxItem>
                                    <ComboBoxItem>Arrow</ComboBoxItem>
                                </ComboBox>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </local:OptionCase>
                <local:OptionCase Value="GeometryCapsuleTransform">
                    <local:OptionItem Type="GeometryCapsule" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                </local:OptionCase>
                <local:OptionCase Value="GeometryHeartTransform">
                    <StackPanel>
                        <local:OptionItem Type="GeometryHeart" Margin="8,0" Height="50" VerticalContentAlignment="Center"/>
                        <Slider x:Name="HeartSpreadSlider" Value="80" Minimum="0" Maximum="100" Style="{StaticResource AppSliderStyle}">
                            <FrameworkElement.Tag>
                                Spread
                            </FrameworkElement.Tag>
                            <Slider.Header>
                                <Button 
                                    x:Name="HeartSpreadButton" 
                                    Content="{x:Bind HeartSpreadSlider.Value, Mode=OneWay}"       
                                    Padding="4,0"
                                    MinWidth="70" 
                                    Height="28"
                                    BorderThickness="1" 
                                    BorderBrush="{ThemeResource AppStroke}" 
                                    Background="{ThemeResource SystemAltLowColor}" 
                                    >
                                    <Button.Flyout>
                                        <Flyout>

                                        </Flyout>
                                    </Button.Flyout>
                                </Button>
                            </Slider.Header>
                        </Slider>
                    </StackPanel>
                </local:OptionCase>


            </local:OptionSwitchPresenter>


            <!--Button-->
            <StackPanel x:Name="AppBarStackPanel" Visibility="Collapsed" Spacing="6" Orientation="Horizontal" Margin="6,0" Height="50" HorizontalAlignment="Right" VerticalAlignment="Top" Background="Transparent" >
                <Button x:Name="AppBarPrimaryButton" CornerRadius="4" Width="70" Height="40" VerticalAlignment="Center" BorderThickness="1" Style="{StaticResource AccentButtonStyle}" >
                    <FontIcon Glyph="&#xEC61;" FontFamily="Segoe MDL2 Assets"/>
                </Button>
                <Button x:Name="AppBarSecondaryButton" CornerRadius="4" Width="70" Height="40" VerticalAlignment="Center" BorderThickness="1" >
                    <FontIcon Glyph="&#xEB90;" FontFamily="Segoe MDL2 Assets"/>
                </Button>
            </StackPanel>

        </Grid>


        <!--Expander-->
        <Rectangle x:Name="LightDismissOverlay" Visibility="Collapsed" Fill="Transparent"/>
        <elements:ExpanderLightDismissOverlay x:Name="ExpanderLightDismissOverlay" >
            <controls:ColorMenu x:Name="ColorMenu" Eyedropper="{x:Bind Eyedropper}" ClickEyedropper="{x:Bind ClickEyedropper}" />
            <controls:PaletteMenu x:Name="PaletteMenu" />
        </elements:ExpanderLightDismissOverlay>


        <!--Dialog-->
        <controls:EffectDialog x:Name="EffectDialog" />
        <controls:ExportDialog x:Name="ExportDialog" />
        <controls:TextureDialog x:Name="TextureDialog" />
        <controls:StretchDialog x:Name="StretchDialog" />
        <controls:ExtendDialog x:Name="ExtendDialog" />
        <controls:OffsetDialog x:Name="OffsetDialog" />


        <!--Tip-->
        <controls:ToastTip x:Name="ToastTip" Visibility="Collapsed" IsHitTestVisible="False" />
        <controls:KeyboardShortcuts x:Name="KeyboardShortcuts" Visibility="Collapsed" />
        <Border IsHitTestVisible="False" CornerRadius="6" Padding="12,3" MinHeight="40" Background="Red" RequestedTheme="Dark" HorizontalAlignment="Center" VerticalAlignment="Center"
                Visibility="{x:Bind ReverseBooleanToVisibilityConverter(GradientMappingSelector.IsHitTestVisible), Mode=OneWay}">
            <StackPanel Orientation="Horizontal">
                <SymbolIcon Symbol="Delete"/>
                <ContentControl Width="12"/>
                <TextBlock x:Name="GradientMappingTipTextBlock" FontWeight="Medium" VerticalAlignment="Center">
                    Drop to Remove
                </TextBlock>
            </StackPanel>
        </Border>


        <elements:Eyedropper x:Name="Eyedropper" Visibility="Collapsed"/>
        <elements:ClickEyedropper x:Name="ClickEyedropper" Visibility="Collapsed"/>

    </Grid>
</Page>